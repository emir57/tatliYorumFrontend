<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/login"></ion-back-button>
    </ion-buttons>
    <ion-title>TatlıYorum</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="registerContainer">
    <h2 class="ms-1">Kayıt Ol</h2>
    <form [formGroup]="registerForm">
      <!-- Username Start -->
      <ion-item>
        <ion-label position="floating">Kullanıcı adı</ion-label>
        <ion-input formControlName="username"></ion-input>
      </ion-item>
      <small class="text-danger" *ngIf="(username.touched || username.dirty) && username.errors">
        <div *ngIf="(username.errors.required)">Kullanıcı adı boş olamaz</div>
        <div *ngIf="(username.errors.maxlength)">Kullanıcı adı maksimum {{username.errors.maxlength.requiredLength}} karakter olabilir</div>
      </small>
      <!-- Username End -->
      <!-- Email Start -->
      <ion-item>
        <ion-label position="floating">Eposta</ion-label>
        <ion-input formControlName="email"></ion-input>
      </ion-item>
      <small class="text-danger" *ngIf="(email.touched || email.dirty) && email.errors">
        <div *ngIf="(email.errors.required)">Eposta boş olamaz</div>
        <div *ngIf="(email.errors.email)">Geçersiz eposta</div>
        <div *ngIf="(email.errors.maxlength)">Eposta maksimum {{email.errors.maxlength.requiredLength}} karakter olabilir</div>
      </small>
      <!-- Email End -->
      <!-- Password Start -->
      <ion-item>
        <ion-label position="floating">Şifre</ion-label>
        <ion-input type="password" formControlName="password"></ion-input>
      </ion-item>
      <small class="text-danger" *ngIf="(password.touched || password.dirty) && password.errors">
        <div *ngIf="(password.errors.required)">Şifre boş olamaz</div>
      </small>
      <!-- Passowrd End -->
      <!-- RePassword Start -->
      <ion-item>
        <ion-label position="floating">Şifre Tekrar</ion-label>
        <ion-input type="password" formControlName="rePassword"></ion-input>
      </ion-item>
      <small class="text-danger" *ngIf="(rePassword.touched || rePassword.dirty) && rePassword.errors">
        <div *ngIf="(rePassword.errors.required)">Şifre tekrarı boş olamaz</div>
      </small>
      <small class="text-danger" *ngIf="(rePassword.touched || rePassword.dirty) && registerForm.hasError('notSame')">
        <div>Şifreler uyuşmuyor</div>
      </small>
      <!-- RePassword End -->
    </form>
    <ion-button [disabled]="!isLoad" [disabled]="!registerForm.valid" (click)="register()" expand="block" fill="clear" shape="round">
      <span *ngIf="!isLoad" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>&nbsp;
      <span *ngIf="isLoad">Kayıt Ol</span>
      <span *ngIf="!isLoad">Kayıt Olunuyor...</span>
    </ion-button>
    <br>
    <span>Hesabın zaten var mı? <a routerLink="/login" style="text-decoration: none;">Giriş yap</a></span>
  </div>
</ion-content>
