<ion-header>
  <ion-toolbar>
    <ion-title>Ana Sayfa</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="container">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
      <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Yenilemek için bırak" refreshingSpinner="circles"
        refreshingText="Yükleniyor...">
      </ion-refresher-content>
    </ion-refresher>
    <div style="width: 100%;height: 50px;" class="text-center">
      <i id="refreshtext">Yenilemek için <span>aşağı</span> kaydırınız.
        <div id="downarrow" style="display: none;">
          <ion-icon name="chevron-down-outline"></ion-icon>
        </div>
      </i>

    </div>
    <div id="postcard{{post.id}}" class="postcard" *ngFor="let post of posts" [style]="getColorStyles(post)"
      style="padding:10px">
      <div class="left">
        <span (click)="addLike(post.id)">
          <ion-icon name="chevron-up-outline"></ion-icon>
        </span>
        <span>{{post.likes}}</span>
        <span (click)="deleteLike(post.id)">
          <ion-icon name="chevron-down-outline"></ion-icon>
        </span>
      </div>
      <div class="right">
        <div class="topsection">
          <span>
            <ion-icon name="person-outline"></ion-icon>
          </span>&nbsp;
          <span *ngIf="!post.secretUser">{{post.userId}}</span>
          <span *ngIf="post.secretUser">İsimsiz kullanıcı</span>
          <span>
            <ion-icon (click)="showSettings(post)" name="ellipsis-vertical-outline"></ion-icon>
            <ul id="postsetting{{post.id}}" class="list-group postsetting">
              <li class="list-group-item text-warning">
                <ion-icon name="alert-outline"></ion-icon> Şikayet Et
              </li>
              <li *ngIf="post.userId == currentUser.id" (click)="deletePost(post)" class="list-group-item text-danger">
                <ion-icon name="trash-outline"></ion-icon> Sil
              </li>
            </ul>
          </span>
        </div>
        <div>
          {{post.content}}
        </div>
        <hr>
        <div>
          <a style="font-size: medium;" (click)="showComments(post)">
            <ion-icon name="chatbubble-ellipses-outline"></ion-icon>&nbsp;{{post.commentCount}} Yorumun tamamını
            görüntüle
          </a>
        </div>
      </div>
    </div>
  </div>
</ion-content>
