<ion-header>
  <ion-toolbar>
    <ion-title>Gönderiler</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/admin/home"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="getPosts()">
        <ion-icon name="refresh-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="container">
    <ion-card class="postCard" id="post{{post.id}}" *ngFor="let post of postService.posts">
      <ion-card-header>
        <ion-card-subtitle *ngIf="post.category">{{post.category.name}}</ion-card-subtitle>
        <ion-card-title *ngIf="post.user">{{post.user.username}}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>{{post.content}}</p>
        <p><span class="text-primary">{{post.commentCount}}</span> Toplam Yorum</p>
        <p><span class="text-info">{{post.likes}}</span> Toplam Beğeni</p>
        <br>
        <p style="display: flex;justify-content: space-between;">
          <span>
            Arkaplan rengi<div class="color" [style]="getBgColor(post.backgroundColor)"></div>
          </span>
          <span>
            Yazı rengi<div class="color" [style]="getTextColor(post.textColor)"></div>
          </span>
        </p>
        <p style="display: flex;justify-content: space-around;align-items: center;">
          <ion-buttons slot="start">
            <ion-button (click)="editPost(post)">
              <ion-icon name="create-outline"></ion-icon>
            </ion-button>
            <ion-button color="danger" (click)="deletePost(post)">
              <ion-icon name="trash"></ion-icon>
            </ion-button>
          </ion-buttons>
        </p>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
